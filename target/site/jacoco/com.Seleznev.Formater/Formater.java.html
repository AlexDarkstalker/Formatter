<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Formater.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">formatter</a> &gt; <a href="index.source.html" class="el_package">com.Seleznev.Formater</a> &gt; <span class="el_source">Formater.java</span></div><h1>Formater.java</h1><pre class="source lang-java linenums">package com.Seleznev.Formater;

import java.io.*;
import com.Seleznev.Reader.FileReader;
import com.Seleznev.Reader.MyReaderException;
import com.Seleznev.Writer.*;
import com.Seleznev.Writer.FileWriter;
import com.Seleznev.Reader.IReader.IReader;
import com.Seleznev.Writer.IWriter.IWriter;
import com.Seleznev.Reader.StringReader.MyStringReader;
import com.Seleznev.Writer.StringWriter.MyStringWriter;

/**
 * Created by alxunderseelisnow on 13.05.16.
 */
<span class="nc" id="L16">public class Formater {</span>
    public static void main1(String [] argv) throws IOException {
<span class="nc" id="L18">        String input = &quot;makefunc(){dosmth;alsosmth;усложним{что-тоделаем;ещенемного;}andalsosmth;finish;}&quot;;</span>
        char symbol;
        int len;
<span class="nc" id="L21">        String spaces = &quot;    &quot;;</span>
<span class="nc" id="L22">        String enter = &quot;\n&quot;;</span>
        //InputStream in = new FileInputStream(input);
        //InputStream inStream = new BufferedInputStream(in);
        //while(inStream.read() &gt; 0)

<span class="nc" id="L27">        int count = 0;</span>
<span class="nc" id="L28">        StringBuffer outPut = new StringBuffer();</span>
<span class="nc bnc" id="L29" title="All 2 branches missed.">        for(int i =0; i &lt; input.length(); i++)</span>
        {
<span class="nc bnc" id="L31" title="All 4 branches missed.">            switch(symbol = input.charAt(i))</span>
            {
                case '{':
<span class="nc" id="L34">                    count++;</span>
<span class="nc" id="L35">                    outPut.append(symbol).append(enter);</span>
<span class="nc bnc" id="L36" title="All 2 branches missed.">                    for(int j = 0; j &lt; count; j++)</span>
<span class="nc" id="L37">                        outPut.append(spaces);</span>
<span class="nc" id="L38">                    break;</span>
                case ';':
<span class="nc" id="L40">                    outPut.append(symbol).append(enter) ;</span>
<span class="nc bnc" id="L41" title="All 2 branches missed.">                    for(int j = 0; j &lt; count; j++)</span>
<span class="nc" id="L42">                        outPut.append(spaces);</span>
<span class="nc" id="L43">                    break;</span>
                case '}':
<span class="nc" id="L45">                    count--;</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">                    for(int j = 0; j &lt; count; j++)</span>
<span class="nc" id="L47">                        outPut.append(spaces);</span>
<span class="nc" id="L48">                    outPut.append(symbol).append( enter );</span>
<span class="nc" id="L49">                    break;</span>
                default:
<span class="nc" id="L51">                    outPut.append(symbol);</span>
                    break;
            }

        }
<span class="nc" id="L56">        System.out.println(outPut);</span>
<span class="nc" id="L57">    }</span>
    public static void main(String [] argv) throws FileNotFoundException, UnsupportedEncodingException, MyReaderException, MyEncodingWriterException, MyWriterException, MyIOWriterException {
<span class="nc" id="L59">        String output = new String();</span>
<span class="nc" id="L60">        IReader in = new FileReader(&quot;input.txt&quot;);</span>
<span class="nc" id="L61">        IWriter out = new FileWriter(&quot;output.txt&quot;);</span>
<span class="nc" id="L62">        format(in, out);</span>
        //System.out.print(output);
<span class="nc" id="L64">        String input = &quot;makefunc(){dosmth;alsosmth;усложним{что-тоделаем;ещенемного;}andalsosmth;finish;}&quot;;</span>
<span class="nc" id="L65">        MyStringWriter msw = new MyStringWriter(output);</span>
<span class="nc" id="L66">        MyStringReader sr = new MyStringReader(input);</span>
        char let;
<span class="nc bnc" id="L68" title="All 2 branches missed.">        while(sr.hasNext())</span>
        {
<span class="nc" id="L70">            msw.write(Character.toString(sr.getNext()));</span>
        }
<span class="nc" id="L72">        sr.close();</span>
        //msw.close();
<span class="nc" id="L74">        System.out.print(output);</span>
<span class="nc" id="L75">    }</span>

    public static void format(IReader in, IWriter out) throws MyReaderException, MyIOWriterException {
<span class="nc" id="L78">        int count = 0;</span>
        char symbol;
<span class="nc" id="L80">        String spaces = &quot;    &quot;;</span>
<span class="nc" id="L81">        String enter = &quot;\n&quot;;</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">        while(in.hasNext())</span>
<span class="nc bnc" id="L83" title="All 4 branches missed.">            switch(symbol = in.getNext())</span>
            {
                case '{':
<span class="nc" id="L86">                    count++;</span>
<span class="nc" id="L87">                    out.write(Character.toString(symbol));</span>
<span class="nc" id="L88">                    out.write(enter);</span>
<span class="nc bnc" id="L89" title="All 2 branches missed.">                    for(int j = 0; j &lt; count; j++)</span>
<span class="nc" id="L90">                        out.write(spaces);</span>
<span class="nc" id="L91">                    break;</span>
                case ';':
<span class="nc" id="L93">                    out.write(Character.toString(symbol));</span>
<span class="nc" id="L94">                    out.write(enter);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">                    for(int j = 0; j &lt; count; j++)</span>
<span class="nc" id="L96">                        out.write(spaces);</span>
<span class="nc" id="L97">                    break;</span>
                case '}':
<span class="nc" id="L99">                    count--;</span>
<span class="nc" id="L100">                    out.write(enter);</span>
<span class="nc bnc" id="L101" title="All 2 branches missed.">                    for(int j = 0; j &lt; count; j++)</span>
<span class="nc" id="L102">                        out.write(spaces);</span>
<span class="nc" id="L103">                    out.write(Character.toString(symbol));</span>
<span class="nc" id="L104">                    out.write(enter);</span>
<span class="nc" id="L105">                    break;</span>
                default:
<span class="nc" id="L107">                    out.write(Character.toString(symbol));</span>
<span class="nc" id="L108">                    break;</span>
            }

<span class="nc" id="L111">        in.close();</span>
<span class="nc" id="L112">        out.close();</span>

<span class="nc" id="L114">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>